		
    {% extends 'base/base.html' %}
    {% block title %}专有云v2版本{% endblock %}
        {% block content %}

			<div class="am-u-md-41" id="contents" style="overflow:auto;">
<br>
<br>
<br>
<br>
<h2 align="center">专有云--{{version}}--{{project_name}}--{{host_name}}</h2>
<br>
<br>
                        <table id="example" class="display" cellspacing="0" width="100%">
                            <thead>                         
                            <tr>                            
                                <th  style="text-align:center;">检查日期</th>                
                                <th  style="text-align:center;">主机信息</th>               
                                <th  style="text-align:center;">检测信息</th>               
                                <th  style="text-align:center;">健康值</th>            
                                <th  style="text-align:center;">备注</th>            
                            </tr>                           
                            </thead>                                                                  
                            <tbody>                         
                                {% for info in host_check_date_set %}
                                <tr>                            
                                    <td style="width:20%;text-align:center;">{{ info.host_check_date|date:"Y-m-d H:i:s" }}</td>

                                    <td style="width:10%;text-align:center;"><button class="btn btn-info" data-toggle="modal" data-target="#modal{{ info.host_check_date_id }}">主机信息</button></td>


<div class="modal fade" id="modal{{ info.host_check_date_id }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="width: 802px;">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                    主机信息
                </h4>
            </div>
            <div class="modal-body">
                <h4 style="display: inline-block;">服务器型号</h4>
                    <textarea  style="width: 753px;">{{ info.host_info_obj.server }}</textarea>
                <br>
                <h4 style="display: inline-block;">处理器型号</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.processors }}</textarea>
                <br>
                <h4 style="display: inline-block;">内存型号</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.memory }}</textarea>
                <br>
                <h4 style="display: inline-block;">磁盘控制器版本</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.disk_controller }}</textarea>
                <br>
                <h4 style="display: inline-block;">系统信息</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.system_info }}</textarea>
                <br>
                <h4 style="display: inline-block;">kernel版本</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.kernel_version }}</textarea>
                <br>
                <h4 style="display: inline-block;">BIOS</h4>
                    <textarea style="width: 753px;">{{ info.host_info_obj.bios_version }}</textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div> 



                                    <td class="tool_instruction"  style="width:20%;text-align:center">
                                        <button class="btn btn-info" type="button" disables="disabled" onclick=go_check_log_page("{{ info.host_check_date_id }}")>故障分析</button>
                                    </td> 
                                    <td class="tool_instruction"  style="width:20%;text-align:center">
                                        <div class="progress progress-striped" style="margin-bottom: 0px;">
                                            {% if info.health_index_num > 80 %}
                                                <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{ info.health_index_num }}%;">
                                                    <span>{{ info.health_index_num }}</span>
                                                </div>
                                            {% else  %}
                                                <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{ info.health_index_num }}%;">
                                                    <span>{{ info.health_index_num }}</span>
                                                </div>
                                            {% endif %}
                                        </div> 
                                    </td> 
                                    <td class="tool_instruction"  style="width:20%;text-align:center">{{ info.description }}</td> 
                                </tr>                           
                                {% endfor %}
                            </tbody>                        
                        </table>     
			</div>


            {% endblock %}


		



        {% block extrajs %}
		<script type="text/javascript">
            function go_check_log_page(check_date_id){
                var version = "{{ version }}"
                var project_name = "{{ project_name }}"
                var host_name = "{{ host_name }}"
                var host_id = "{{ host_id }}"
                    var url = "{% url 'aliyun:host_analysis_info' %}?host_id="+host_id+"&check_date_id="+check_date_id+"&version="+version+"&project_name="+project_name+"&host_name="+host_name
                window.location.href = url 
            }

            $(document).ready(function() {
                $('#example').DataTable( {
                });

            });
        </script>
	
        {% endblock %}	

