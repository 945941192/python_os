<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>后台模板</title>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="/static/css/amazeui.css" />
		<link rel="stylesheet" href="/static/css/core.css" />
		<link rel="stylesheet" href="/static/css/menu.css" />
		<link rel="stylesheet" href="/static/css/index.css" />
		<link rel="stylesheet" href="/static/css/admin.css" />
		<link rel="stylesheet" href="/static/css/page/typography.css" />
		<link rel="stylesheet" href="/static/css/page/form.css" />
		<link rel="stylesheet" href="/static/css/component.css" />
        <link rel="stylesheet" href="/static/css/jquery.dataTables.min.css" />
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="/static/js/echarts.min.js"></script>
		<script type="text/javascript" src="/static/js/jquery-2.1.0.js" ></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js" ></script>  
	</head>
	<body>

		<header class="am-topbar am-topbar-fixed-top">		
			<div class="contain">
				<ul class="am-nav am-navbar-nav am-navbar-left">

					<li><h4 class="page-title">基本表格</h4></li>
				</ul>
				
				<ul class="am-nav am-navbar-nav am-navbar-right">
					<li class="inform"><i class="am-icon-bell-o" aria-hidden="true"></i></li>
					<li class="hidden-xs am-hide-sm-only">
                        <form role="search" class="app-search">
                            <input type="text" placeholder="Search..." class="form-control">
                            <a href=""><img src="/static/img/search.png"></a>
                        </form>
                    </li>
				</ul>
			</div>
		</header>
	
		
		
		<div class="admin">
	
			<div class="admin-sidebar am-offcanvas  am-padding-0" id="admin-offcanvas">
				<div class="am-offcanvas-bar admin-offcanvas-bar">
                    <div class="user-box am-hide-sm-only" style="padding-bottom: 1px;">
	                    <div class="user-img" style="width:160px;height:100px">
	                        <img src="/static/img/alilog.png" alt="user-img" title="Mat Helme" class="img-thumbnail">
	                            <div class="user-status offline"><i class="am-icon-dot-circle-o" aria-hidden="true"></i></div>
	                    </div>
	                    <h5><a href="#">阿里云</a> </h5>
	                    <ul class="list-inline">
	                        <li>
	                            <a href="#">
	                                <i class="fa fa-cog" aria-hidden="true"></i>
	                            </a>
	                        </li>
	
	                        <li>
	                            <a href="#" class="text-custom">
	                                <i class="fa fa-cog" aria-hidden="true"></i>
	                            </a>
	                        </li>
	                     </ul>
	                </div>
	            
						<ul class="am-list admin-sidebar-list">
						    <li><a href="index.html"><span class="am-icon-home"></span> 首页</a></li>
						    <li class="admin-parent">
						        <a class="am-cf" data-am-collapse="{target: '#collapse-nav1'}"><span class="am-icon-table"></span> 系统分析 <span class="am-icon-angle-right am-fr am-margin-right"></span></a>
						        <ul class="am-list am-collapse admin-sidebar-sub am-in" id="collapse-nav1">
						            <li><a href="{% url 'check:upload_check_tarball' %}">检测日志</a></li>
						            <li><a href="{% url 'check:script_tools' %}">工具下载</a></li>
                                </ul>
				</div>
			</div>
		
		
		

			<div class="am-u-md-41" style="overflow:auto;">
<br>
<br>
<br>
<br>
<br>
<br>
                <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                      新增工具
                </button>   

                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog"> 
                        <div class="modal-content">     
                            <div class="modal-header">      
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                 &times;    
                                </button>      
                                <h4 class="modal-title" id="myModalLabel">
                                    添加工具详情
                                </h4>
                            </div>
                            <div class="modal-body">        

                            <table id="example1" class="table table-bordered table-striped" aria-describedby="example1_info">
                                <tbody>
                                <tr>
                                    <th style="width: 20%">基本信息</th>
                                    <th style="width: 80%">内容</th>
                                </tr>
                                </tbody>
                                <tbody>
                                
                                <tr>
                                    <td>工具名称</td>
                                    <td class="input-group">
                                        <input type="text" class="form-control" id="tool_name" value="">
                                    </td>
                                </tr>
                                <tr>
                                    <td>工具说明</td>
                                    <td>
                                        <textarea id="tool_instructions" style="width:426px;height:80px;"></textarea>    
                                    <br>
                                    </td>
                                </tr>
                                </tbody>
                            </table>



                            </div>
                            <div class="modal-footer">      
                                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="save_tool_info()">提交工具信息</button>      
                            </div>
                        </div><!-- /.modal-content -->  
                    </div><!-- /.modal -->
                </div>            
<br>
<br>
<br>

                        <table id="example" class="display" cellspacing="0" width="100%">
                            <thead>                         
                            <tr>                            
                                <th>工具名称</th>                
                                <th>工具说明</th>               
                                <th>下载</th>               
                                <th>编辑</th>            
                            </tr>                           
                            </thead>                                                                  
                            <tbody>                         
                                {% for info in script_tools_set %}
                                <tr>                            
                                    <td style="width:20%">{{ info.tool_name }}</td>
                                    <td style="width:20%">{{ info.tool_instructions }}</td> 
                                    <td style="width:20%"><button class="btn btn-info" type="button" onclick="down_script_tool('{{ info.tool_name }}')">工具下载</button></td> 
                                    <td style="width:20%"><button class="btn btn-info" type="button" onclick="delete_script_tool('{{ info.tool_name }}')">删除</button></td> 
                                </tr>                           
                                {% endfor %}
                            </tbody>                        
                        </table>     


			</div>


		</div>

		




		<script type="text/javascript">
            $(document).ready(function() {
                $('#example').DataTable( {
                } );
 
            } );
            
            function down_script_tool(tool_name){
                var url = "{% url 'check:script_tools' %}"+"?tool_name="+tool_name+"&down=1"    
                window.open(url) 
            }

            function save_tool_info(){
                var tool_name = $("#tool_name").val()
                var tool_instructions = $("#tool_instructions").val()
                if (!tool_name){
                    alert("请输入工具名称")
                }
                else{
                    var url = "{% url "check:script_tools" %}"+"?tool_name="+tool_name+"&tool_instructions="+tool_instructions+"&save=1"
                    location.href = url
                }
            }
            
            function delete_script_tool(tool_name){
                var url = "{% url "check:script_tools" %}"+"?tool_name="+tool_name+"&del=1"
                location.href = url
            }
 
        </script>
	
		


	</body>
	
</html>








